---
layout: post
title: "go fmt note"
description: ""
category: go
tags: []
---
{% include JB/setup %}

作者：ForeverSmart   
[原文链接:](http://foreversmart.github.io/go/2015/03/13/go-fmt-note/) http://foreversmart.github.io/go/2015/03/13/go-fmt-note/

----
最近系统的学习了GO语言中字符串格式化使用的相关技巧，记录下具体的参数的用法和当中使用要注意的细节

### Format 参数介绍

1. 常规参数  
	％v 这个格式指令来输出变量的默认格式，如果是自定义的变量类型并请定义了String（）函数，则会调用String（）函数输出，通常在不知道变量类型或对输出格式没有要求时使用  
	％T 格式指令来输出变量的类型  
	％％ 格式指令用于在参数中使用％的字面量
	
2. 布尔值类型  
	％t 将布尔值变量以true or false 进行输出，注意这里的变量类型只能是布尔值，不能时整形或其他的变量类型
	
3. 整数类型  
	％b 指令将整数格式化为二进制字符串  
	％c 指令将整数格式化为和unicode码点值相同的字符
	％d 指令将整数格式化为十进制字符串  
	％o 指令将整数格式化为八进制字符串  
	％q 指令将整数转义成河unicode码点值相同的字符用并单引号括起来的形式  
	％x 指令将整数格式化为十六进制小写字母形式的字符串  
	％X 指令将整数格式化为十六进制大写字母形式的字符串  
	％U 指令将整数格式化为用unicode表示法表示的整形码点，默认为4个数字字符 注意这里的变量类型既可以是整数也可以是单个字符
	
4. 浮点数和复数类型  
	％e 用科学记数法e表示浮点数或复数  
	％E 用科学记数法E表示浮点数或复数  
	％f 用标准计数法表示浮点数或复数（没有指数，％F和％f等价）
	％g 在%e和％f中选择最紧凑的形式进行格式化  
	％G 在%E和％f中选择最紧凑的形式进行格式化
	 
5. 字符串和字符切片  
	％s 指令会将变量格式化为utf－8表示的字符串或byte切片   
	％q 指令会将字符串或字符切片用双引号括起来  
	％x or ％X 指令会将字符串，字符切片和byte切片转义成十六进制字符串的形式 
	 
6. 指针类型  
	％p 指令将以十六进制字符串的形式输出指针的地址，通常我们会在调试程序的时候用到该指令
	
7. 修饰型Flag  
	＋如果是变量为数值则输出数值前面的正负号，如果是修饰％q指令且变量类型为字符串或字符切片会输出其中ASCII字符（对其它字符进行转义），如果变量是结构体则会输出结构体中字段的名称  
	－ 减号指令将值进行向左对齐 默认为向右对齐，该指令决定了填充的字符如空格的填充方向（用在对宽度进行限定的格式输出上）  
	＃ 井号 输出变量自身， 如果修饰％x 或者 ％X 以 零x或大X输出十六进制  
	space空格 变量为数字则在正数前面空格负数－，%xor%X在结果间增加一个空格  
	0 会将数字0作为填充符进行填充  
	n 限定字符或数字最小宽度  
	.m 字符的最长宽度或小数点后多少位
	n.m 可以被＊代替表示可以从参数中获取（其中n和m都可以省略）  

### Fmt函数的使用

- Go语言标准库中的fmt包提供了打印函数将数据以字符串形式输出到控制台，文件，字符串和其他满足io.Writer 或io.Reader接口的值中。部分的打印函数会返回一个错误值，通常我们可以忽略这个错误，但如果是打印到文件或网络等不确定地方时则需要检查该错误。

- fmt包中提供了很多打印函数但只有以f结尾的打印函数如Printf 函数会在传入的参数中使用格式化参数指令

###### 相关的格式化打印函数：


1. 函数errorf 用于 格式化错误值,它有两个参数第一个是format参数用语输入格式指令的字符串，第二个参数是一个变长的interface｛｝类型，用于输入需要格式化的变量。函数会返回一个我们格式化的错误值

2. 函数Fprintf  将数据格式化到writer接口的之中  ,它有三个参数第一个是 实现io.writer接口的变量，第二个是format参数用语输入格式指令的字符串，第三个参数是一个变长的interface｛｝类型，用于输入需要格式化的变量。该函数会返回一个int类型的字节数 一个错误值

3. 函数Fscanf  将数据从到Reader接口的值中读出到变量中  ,它有三个参数第一个是 实现io.Reader接口的变量，第二个是format参数用于输入格式指令的字符串，第三个参数是一个变长的interface｛｝类型，用于输入将被赋值的变量。该函数会返回一个int类型表示读到变量的个数 一个错误值

4. 函数Printf 用于格式化打印

5. 函数scanf 用于从标准输入中扫描用户输入，格式化写入变长参数中

6. 函数Sprintf  将变量格式化为新的string

7. 函数Sscanf（）会扫描第一个string参数将结果格式化写入变长参数中，返回解析的个数




 


